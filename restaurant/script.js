const translations = {
    en: {
        page_title: "Sura | Korean Restaurant in Dresden",
        nav_home: "Home",
        nav_menu: "Menu",
        nav_experience: "Experience",
        nav_location: "Location",
        hero_title: "Sura Dresden",
        hero_desc: "The premier Korean restaurant in Dresden. Experience authentic culinary magic in the heart of Neustadt.",
        hero_btn: "Explore Menu",
        menu_subtitle: "Our Selection",
        menu_title: "Signature Dishes",
        item_galbi_title: "Bulgogi",
        item_galbi_desc: "Thinly sliced beef marinated in our secret house-made soy sauce, grilled to perfection.",
        item_bibimbap_title: "Dolsot Bibimbap",
        item_bibimbap_desc: "Sizzling stone bowl rice with seasonal vegetables, mushrooms, egg, and fermented chili paste.",
        item_hanjeongsik_title: "Ddokbboki",
        item_hanjeongsik_desc: "Spicy stir-fried rice cakes with fish cakes, vegetables, and a boiled egg in a sweet and spicy gochujang sauce.",
        item_bulgogi_title: "Japchae",
        item_bulgogi_desc: "Stir-fried sweet potato glass noodles with colorful vegetables, mushrooms, and a savory sesame-soy sauce.",
        item_pajeon_title: "Haemul Pajeon",
        item_pajeon_desc: "Savory Korean pancake packed with green onions and a variety of fresh seafood.",
        item_stew_title: "Kimchi Jjigae",
        item_stew_desc: "Spicy and hearty stew made with aged kimchi, pork belly, and tofu.",
        exp_subtitle: "Atmosphere",
        exp_title: "Welcome to Sura",
        exp_desc: "Located on Königsbrücker Straße 50, Sura is the destination for authentic Korean cuisine in Dresden. We invite you to linger, relax, and let us enchant you with our traditional flavors and warm hospitality.",
        exp_btn: "View Menu",
        loc_subtitle: "Visit Us",
        loc_title: "Location & Hours",
        loc_address: "Address",
        loc_hours: "Opening Hours",
        loc_contact: "Contact",
        footer_rights: "© 2025 Sura Korean Restaurant Dresden. All rights reserved."
    },
    de: {
        page_title: "Sura | Koreanisches Restaurant in Dresden",
        nav_home: "Startseite",
        nav_menu: "Menü",
        nav_experience: "Erlebnis",
        nav_location: "Standort",
        hero_title: "Sura Dresden",
        hero_desc: "DAS koreanische Restaurant in Dresden. Erleben Sie kulinarische Zauber im Herzen der Neustadt.",
        hero_btn: "Speisekarte",
        menu_subtitle: "Unsere Auswahl",
        menu_title: "Beliebte Gerichte",
        item_galbi_title: "Bulgogi",
        item_galbi_desc: "Hauchdünn geschnittenes Rindfleisch, mariniert in unserer geheimen Haus-Sojasauce, perfekt gegrillt.",
        item_bibimbap_title: "Dolsot Bibimbap",
        item_bibimbap_desc: "Heißer Steintopf-Reis mit saisonalem Gemüse, Pilzen, Ei und fermentierter Chilipaste.",
        item_hanjeongsik_title: "Ddokbboki",
        item_hanjeongsik_desc: "Scharf angebratene Reiskuchen mit Fischkuchen, Gemüse und einem gekochten Ei in einer süß-scharfen Gochujang-Sauce.",
        item_bulgogi_title: "Japchae",
        item_bulgogi_desc: "Gebratene Süßkartoffelglasnudeln mit buntem Gemüse, Pilzen und einer herzhaften Sesam-Sojasauce.",
        item_pajeon_title: "Haemul Pajeon",
        item_pajeon_desc: "Herzhafter koreanischer Pfannkuchen mit viel Frühlingszwiebeln und verschiedenen frischen Meeresfrüchten.",
        item_stew_title: "Kimchi Jjigae",
        item_stew_desc: "Scharfer und herzhafter Eintopf aus gereiftem Kimchi, Schweinebauch und Tofu.",
        exp_subtitle: "Atmosphäre",
        exp_title: "Willkommen im Sura",
        exp_desc: "Gelegen in der Königsbrückerstr. 50, ist das Sura die Adresse für authentische koreanische Küche in Dresden. Wir laden Sie ein, zu verweilen, zu entspannen und sich von unseren traditionellen Aromen verzaubern zu lassen.",
        exp_btn: "Zur Speisekarte",
        loc_subtitle: "Besuchen Sie Uns",
        loc_title: "Standort & Zeiten",
        loc_address: "Adresse",
        loc_hours: "Öffnungszeiten",
        loc_contact: "Kontakt",
        footer_rights: "© 2025 Sura Koreanisches Restaurant Dresden. Alle Rechte vorbehalten."
    },
    ko: {
        page_title: "수라 | 드레스덴 한국 레스토랑",
        nav_home: "홈",
        nav_menu: "메뉴",
        nav_experience: "경험",
        nav_location: "위치",
        hero_title: "드레스덴 수라",
        hero_desc: "드레스덴 최고의 한국 레스토랑. 노이슈타트의 중심에서 진정한 한국의 맛을 경험해 보세요.",
        hero_btn: "메뉴 보기",
        menu_subtitle: "엄선된 메뉴",
        menu_title: "대표 요리",
        item_galbi_title: "불고기",
        item_galbi_desc: "수제 간장 소스에 재운 소고기를 불맛 나게 구워낸 한국의 대표 메뉴입니다.",
        item_bibimbap_title: "돌솥 비빔밥",
        item_bibimbap_desc: "제철 나물과 버섯, 달걀, 고추장이 어우러진 뜨거운 돌솥비빔밥입니다.",
        item_hanjeongsik_title: "떡볶이 (Ddokbboki)",
        item_hanjeongsik_desc: "떡과 어묵, 채소를 매콤달콤한 고추장 소스에 볶아낸 한국의 대표적인 길거리 음식입니다.",
        item_bulgogi_title: "잡채",
        item_bulgogi_desc: "쫄깃한 당면과 신선한 채소를 고소한 참기름과 간장에 볶아낸 요리입니다.",
        item_pajeon_title: "해물파전",
        item_pajeon_desc: "신선한 해물과 쪽파가 듬뿍 들어간 바삭한 전 요리입니다.",
        item_stew_title: "김치찌개",
        item_stew_desc: "숙성된 김치와 돼지고기, 두부가 조화롭게 어우러진 깊은 맛의 찌개입니다.",
        exp_subtitle: "분위기",
        exp_title: "수라에 오신 것을 환영합니다",
        exp_desc: "Königsbrücker Straße 50에 위치한 수라는 드레스덴에서 진정한 한식을 맛볼 수 있는 곳입니다. 편안한 분위기에서 전통의 맛과 정성을 다한 서비스를 즐겨보세요.",
        exp_btn: "메뉴판 보기",
        loc_subtitle: "오시는 길",
        loc_title: "위치 및 영업시간",
        loc_address: "주소",
        loc_hours: "영업시간",
        loc_contact: "연락처",
        footer_rights: "© 2025 수라 드레스덴 코리안 레스토랑. All rights reserved."
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const navbar = document.getElementById('navbar');

    // Navbar scroll effect
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });

    // Language Switching Logic
    const langSelectors = document.querySelectorAll('.lang-btn');

    function setLanguage(lang) {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.placeholder = translations[lang][key];
                } else if (el.tagName === 'OPTION') {
                    el.textContent = translations[lang][key];
                } else {
                    el.textContent = translations[lang][key];
                }
            }
        });

        // Update page title
        document.title = translations[lang]['page_title'];

        // Update active button state
        langSelectors.forEach(btn => {
            btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
        });

        // Set HTML lang attribute
        document.documentElement.lang = lang;

        // Save preference
        localStorage.setItem('preferredLang', lang);
    }

    langSelectors.forEach(btn => {
        btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            setLanguage(lang);
        });
    });

    // Load preferred language or default to German
    const savedLang = localStorage.getItem('preferredLang') || 'de';
    setLanguage(savedLang);

    // Mobile Menu Toggle
    const mobileNavToggle = document.getElementById('mobileNavToggle');
    const navLinks = document.getElementById('navLinks');

    if (mobileNavToggle) {
        mobileNavToggle.addEventListener('click', () => {
            mobileNavToggle.classList.toggle('active');
            navLinks.classList.toggle('active');
        });
    }

    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;

            // Close mobile menu if open
            if (navLinks && navLinks.classList.contains('active')) {
                mobileNavToggle.classList.remove('active');
                navLinks.classList.remove('active');
            }

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const navOffset = 80;
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - navOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Simple reveal animation on scroll
    const observerOptions = {
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.menu-item, .info-content, .info-image, .section-header').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1)';
        observer.observe(el);
    });
});
