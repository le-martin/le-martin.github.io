const i18n = {
    de: {
        title: "ReisefÃ¼hrer Dresden",
        h1: "Dresden ReisefÃ¼hrer",
        subtitle: "Winter Edition â€¢ SehenswÃ¼rdigkeiten â€¢ Essen â€¢ WeihnachtsmÃ¤rkte",
        mapBtn: "ðŸ“ Komplette Google Maps Liste Ã¶ffnen",
        tocTitle: "Zur Sektion springen",
        clearProgress: "Fortschritt zurÃ¼cksetzen",
        toastVisited: "Als besucht markiert",
        toastUnvisited: "Markierung entfernt",
        toastCleared: "Fortschritt zurÃ¼ckgesetzt",
        secMarkets: "WeihnachtsmÃ¤rkte",
        secSights: "SehenswÃ¼rdigkeiten",
        secMuseum: "Museen",
        secRestaurants: "Restaurants",
        secSnacks: "Snacks aus Dresden",
        secCafe: "CafÃ© und Kuchen",
        viewOnMap: "Auf Karte ansehen â†’",
        introMarkets: "Ich empfehle, sie alle zu besuchen.",
        introSights: "Sie liegen alle sehr nah beieinander, so dass wir sie alle besuchen kÃ¶nnen.",
        introMuseum: "Wenn Sie Museen mÃ¶gen, sind dies die bekanntesten in Dresden:",
        introRestaurants: "Je nachdem, was Sie essen mÃ¶chten und wo wir sein werden:",
        introSnacks: "Ein paar Snacks fÃ¼r zwischendurch. Ich empfehle Curry24.",
        introCafe: "Einige CafÃ©s zum AufwÃ¤rmen und Ausruhen:",
        mustSee: "Sehr sehenswert",
        empfehlung: "Empfehlung",
        descStallhof: "Mittelalterliche AtmosphÃ¤re im Schlosshof.",
        descAugustus: "Internationaler Markt auf der anderen Elbseite.",
        descFuerstenzug: "Wandbild der sÃ¤chsischen Herrscher auf Porzellanfliesen.",
        descBruehl: "SchÃ¶ner Blick Ã¼ber die Elbe.",
        descReiter: "Goldene Statue von August dem Starken.",
        descHofkirche: "Katholische Hauptkirche in Dresden.",
        descGemaelde: "Im Zwinger. BerÃ¼hmt fÃ¼r Raffaels â€žSixtinische Madonnaâ€œ.",
        descGewoelbe: "Schatzkammermuseum im Residenzschloss.",
        descAlbertinum: "Galerie Neue Meister und Skulpturensammlung.",
        descKexerei: "BerÃ¼hmtes lokales GebÃ¤ck und Russisch Brot.",
        descCurry24: "Beste Currywurst der Stadt.",
        descCamondas: "Hochwertige Schokolade und Eiscreme.",
        descAntik: "Einzigartige AtmosphÃ¤re nahe der Frauenkirche.",
        descKreutzkamm: "Traditionskonditorei mit berÃ¼hmtem Baumkuchen.",
        descCosel: "Restaurant & Grand CafÃ© mit barockem Flair.",
        tagKorean: "Koreanisch",
        tagChinese: "Chinesisch",
        tagSpanish: "Spanisch",
        tagVietnamese: "Vietnamesisch",
        tagGerman: "Deutsch",
        tagDoener: "DÃ¶ner",
        tagCookies: "Kekse",
        tagIcecream: "Eis & Schokolade",
        footer: "Lass es mich wissen, wenn du Fragen oder Anregungen hast!",
        searchPlaceholder: "Suche nach einem Ort...",
        descNeumarkt: "Traditioneller Weihnachtsmarkt vor der Frauenkirche.",
        descZwinger: "Barocke Schlossanlage mit Museen.",
        descFrauenkirche: "Ikonische Kirche und Symbol des Wiederaufbaus Dresdens.",
        descSemperoper: "BerÃ¼hmtes Opernhaus mit einer reichen Geschichte.",
        descKexereiNew: "Probieren Sie traditionelle sÃ¤chsische Kekse und GebÃ¤ck.",
        descCamondasNew: "Handgemachte Schokoladen und kÃ¶stliche Eiskreationen.",
        descSura: "Authentische koreanische KÃ¼che mit modernem Touch.",
        descChinaZeit: "GenieÃŸen Sie traditionelle chinesische Gerichte in gemÃ¼tlicher AtmosphÃ¤re.",
        descLasTapas: "Eine groÃŸe Auswahl an spanischen Tapas und erlesenen Weinen.",
        descAnamit: "Erleben Sie die reichen Aromen der vietnamesischen KÃ¼che.",
        descAugustiner: "Deftige deutsche Gerichte und erfrischende Biere in traditionellem Ambiente.",
        descArarat: "KÃ¶stlicher DÃ¶ner und andere tÃ¼rkische SpezialitÃ¤ten.",
        descKinhDo: "FamiliengefÃ¼hrtes Restaurant mit traditionellen vietnamesischen Gerichten.",
        descBabaDoener: "Beliebter Ort fÃ¼r kÃ¶stlichen DÃ¶ner und andere tÃ¼rkische Schnellgerichte."
    },
    en: {
        title: "Visit Dresden - Travel Guide",
        h1: "Dresden Travel Guide",
        subtitle: "Winter Edition â€¢ Sights â€¢ Food â€¢ Christmas Markets",
        mapBtn: "ðŸ“ Open Full Google Maps List",
        tocTitle: "Jump to Section",
        clearProgress: "Clear all progress",
        toastVisited: "Marked as visited",
        toastUnvisited: "Unmarked",
        toastCleared: "Progress cleared",
        secMarkets: "Christmas Markets",
        secSights: "Sights",
        secMuseum: "Museums",
        secRestaurants: "Restaurants",
        secSnacks: "Snacks from Dresden",
        secCafe: "Cafe and Cake",
        viewOnMap: "View on Map â†’",
        introMarkets: "I would recommend checking out all of them.",
        introSights: "All of them are very close to each other, so we can visit them all.",
        introMuseum: "If you like museums, these are the most well-known in Dresden:",
        introRestaurants: "Depending on what you want to eat and where we will be:",
        introSnacks: "Some snacks if you're hungry. I definitely recommend Curry24.",
        introCafe: "Some cafes for warming up and resting:",
        mustSee: "Must see",
        empfehlung: "Recommended",
        descStallhof: "Medieval atmosphere inside the castle courtyard.",
        descAugustus: "International market on the other side of the river.",
        descFuerstenzug: "Painting of all kings in Dresden on porcelain tiles.",
        descBruehl: "Nice view on the Elbe river.",
        descReiter: "Golden statue of Augustus the Strong.",
        descHofkirche: "Main catholic church in Dresden.",
        descGemaelde: "In the Zwinger. Famous for Raphael's 'Sistine Madonna'.",
        descGewoelbe: "Treasure museum inside the Residenzschloss.",
        descAlbertinum: "New Masters Gallery and Sculpture Collection.",
        descKexerei: "Famous local biscuits and 'Russian Bread'.",
        descCurry24: "Best Currywurst in town.",
        descCamondas: "High quality chocolate and ice cream.",
        descAntik: "Unique atmosphere near Frauenkirche.",
        descKreutzkamm: "Traditional confectioner with famous Baumkuchen.",
        descCosel: "Restaurant & Grand CafÃ© with a baroque vibe.",
        tagKorean: "Korean",
        tagChinese: "Chinese",
        tagSpanish: "Spanish",
        tagVietnamese: "Vietnamese",
        tagGerman: "German",
        tagDoener: "Kebab",
        tagCookies: "Cookies",
        tagIcecream: "Ice & Chocolate",
        footer: "Let me know if you have any questions or suggestions!",
        searchPlaceholder: "Search for a place...",
        descNeumarkt: "Traditional Christmas market in front of the Frauenkirche.",
        descZwinger: "Baroque palace complex with museums.",
        descFrauenkirche: "Iconic church and symbol of Dresden's reconstruction.",
        descSemperoper: "Famous opera house with a rich history.",
        descKexereiNew: "Taste traditional Saxon cookies and pastries.",
        descCamondasNew: "Handmade chocolates and delicious ice cream creations.",
        descSura: "Authentic Korean cuisine with a modern twist.",
        descChinaZeit: "Enjoy traditional Chinese dishes in a cozy atmosphere.",
        descLasTapas: "A wide selection of Spanish tapas and fine wines.",
        descAnamit: "Experience the rich flavors of Vietnamese cuisine.",
        descAugustiner: "Hearty German dishes and refreshing beers in a traditional setting.",
        descArarat: "Delicious dÃ¶ner and other Turkish specialties.",
        descKinhDo: "Family-run restaurant with traditional Vietnamese dishes.",
        descBabaDoener: "Popular spot for delicious dÃ¶ner and other Turkish fast food."
    },
    ko: {
        title: "ë“œë ˆìŠ¤ë´ ë°©ë¬¸ - ì—¬í–‰ ê°€ì´ë“œ",
        h1: "ë“œë ˆìŠ¤ë´ ì—¬í–‰ ê°€ì´ë“œ",
        subtitle: "ê²¨ìš¸ ì—ë””ì…˜ â€¢ ëª…ì†Œ â€¢ ìŒì‹ â€¢ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë§ˆì¼“",
        mapBtn: "ðŸ“ ì „ì²´ êµ¬ê¸€ ì§€ë„ ë¦¬ìŠ¤íŠ¸ ì—´ê¸°",
        tocTitle: "ì„¹ì…˜ìœ¼ë¡œ ì´ë™",
        clearProgress: "ì§„í–‰ ìƒí™© ì´ˆê¸°í™”",
        toastVisited: "ë°©ë¬¸í•¨ìœ¼ë¡œ í‘œì‹œë¨",
        toastUnvisited: "í‘œì‹œ í•´ì œë¨",
        toastCleared: "ì§„í–‰ ìƒí™©ì´ ì´ˆê¸°í™”ë¨",
        secMarkets: "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë§ˆì¼“",
        secSights: "ì£¼ìš” ëª…ì†Œ",
        secMuseum: "ë°•ë¬¼ê´€",
        secRestaurants: "ë ˆìŠ¤í† ëž‘",
        secSnacks: "ë“œë ˆìŠ¤ë´ì˜ ê°„ì‹",
        secCafe: "ì¹´íŽ˜ì™€ ì¼€ì´í¬",
        viewOnMap: "ì§€ë„ì—ì„œ ë³´ê¸° â†’",
        introMarkets: "ëª¨ë“  í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë§ˆì¼“ì„ ë‘˜ëŸ¬ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.",
        introSights: "ëª…ì†Œë“¤ì´ ì„œë¡œ ë§¤ìš° ê°€ê¹Œì›Œì„œ ì „ë¶€ ë°©ë¬¸í•´ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.",
        introMuseum: "ë°•ë¬¼ê´€ì„ ì¢‹ì•„í•˜ì‹ ë‹¤ë©´ ë“œë ˆìŠ¤ë´ì—ì„œ ê°€ìž¥ ìœ ëª…í•œ ê³³ë“¤ìž…ë‹ˆë‹¤:",
        introRestaurants: "ë¬´ì—‡ì„ ë¨¹ê³  ì‹¶ì€ì§€, ìš°ë¦¬ê°€ ì–´ë””ì— ìžˆëŠ”ì§€ì— ë”°ë¼:",
        introSnacks: "ì¶œì¶œí•  ë•Œ ë¨¹ê¸° ì¢‹ì€ ê°„ì‹ë“¤ìž…ë‹ˆë‹¤. Curry24ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.",
        introCafe: "ëª¸ì„ ë…¹ì´ê³  ì‰¬ì–´ê°€ê¸° ì¢‹ì€ ì¹´íŽ˜ë“¤ìž…ë‹ˆë‹¤:",
        mustSee: "í•„ìˆ˜ ì½”ìŠ¤",
        empfehlung: "ê°•ë ¥ ì¶”ì²œ",
        descStallhof: "ì„± ì•ˆë§ˆë‹¹ì˜ ì¤‘ì„¸í’ ë¶„ìœ„ê¸°.",
        descAugustus: "ê°• ê±´ë„ˆíŽ¸ì˜ êµ­ì œì ì¸ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë§ˆì¼“.",
        descFuerstenzug: "ìžê¸° íƒ€ì¼ì— ê·¸ë ¤ì§„ ì—­ëŒ€ ì™•ë“¤ì˜ ë²½í™”.",
        descBruehl: "ì—˜ë² ê°•ì˜ ë©‹ì§„ ì „ë§.",
        descReiter: "ê°•ê±´ì™• ì•„ìš°êµ¬ìŠ¤íŠ¸ì˜ ê¸ˆë¹› ë™ìƒ.",
        descHofkirche: "ë“œë ˆìŠ¤ë´ì˜ ì£¼ìš” ê°€í†¨ë¦­ ì„±ë‹¹.",
        descGemaelde: "ì¸ ë¹™ê±° ë‚´ ì†Œìž¬. ë¼íŒŒì—˜ë¡œì˜ 'ì‹œìŠ¤í‹´ ë§ˆëˆë‚˜'ë¡œ ìœ ëª….",
        descGewoelbe: "ë ˆì§€ë´ì¸  ê¶ì „ ë‚´ ë³´ë¬¼ ë°•ë¬¼ê´€.",
        descAlbertinum: "ê·¼ëŒ€ ê±°ìž¥ ê°¤ëŸ¬ë¦¬ì™€ ì¡°ê° ì»¬ë ‰ì…˜.",
        descKexerei: "ìœ ëª…í•œ í˜„ì§€ ê³¼ìžì™€ ë£¨ì‹œì‰¬ ë¸Œë¡œíŠ¸.",
        descCurry24: "ì‹œë‚´ ìµœê³ ì˜ ì»¤ë¦¬ë¶€ë¥´ìŠ¤íŠ¸.",
        descCamondas: "ê³ í’ˆì§ˆ ì´ˆì½œë¦¿ê³¼ ì•„ì´ìŠ¤í¬ë¦¼.",
        descAntik: "í”„ë¼ìš°ì—” êµíšŒ ê·¼ì²˜ì˜ ë…íŠ¹í•œ ë¶„ìœ„ê¸°.",
        descKreutzkamm: "ìœ ëª…í•œ ë°”ì›€ì¿ í—¨ì„ íŒŒëŠ” ì „í†µ ì œê³¼ì .",
        descCosel: "ë°”ë¡œí¬í’ ë¶„ìœ„ê¸°ì˜ ë ˆìŠ¤í† ëž‘ & ì¹´íŽ˜.",
        tagKorean: "í•œêµ­ì‹",
        tagChinese: "ì¤‘êµ­ì‹",
        tagSpanish: "ìŠ¤íŽ˜ì¸ì‹",
        tagVietnamese: "ë² íŠ¸ë‚¨ì‹",
        tagGerman: "ë…ì¼ì‹",
        tagDoener: "ì¼€ë°¥",
        tagCookies: "ì¿ í‚¤",
        tagIcecream: "ì•„ì´ìŠ¤í¬ë¦¼",
        footer: "ì§ˆë¬¸ì´ë‚˜ ì œì•ˆ ì‚¬í•­ì´ ìžˆìœ¼ë©´ ì•Œë ¤ì£¼ì„¸ìš”!",
        searchPlaceholder: "ìž¥ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”...",
        descNeumarkt: "í”„ë¼ìš°ì—” êµíšŒ ì•žì˜ ì „í†µ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë§ˆì¼“.",
        descZwinger: "ë°•ë¬¼ê´€ì´ ìžˆëŠ” ë°”ë¡œí¬ ì–‘ì‹ì˜ ê¶ì „ ë‹¨ì§€.",
        descFrauenkirche: "ë“œë ˆìŠ¤ë´ ìž¬ê±´ì˜ ìƒì§•ì ì¸ êµíšŒ.",
        descSemperoper: "í’ë¶€í•œ ì—­ì‚¬ë¥¼ ì§€ë‹Œ ìœ ëª…í•œ ì˜¤íŽ˜ë¼ ê·¹ìž¥.",
        descKexereiNew: "ì „í†µ ìž‘ì„¼ ì¿ í‚¤ì™€ íŒ¨ìŠ¤íŠ¸ë¦¬ë¥¼ ë§›ë³´ì„¸ìš”.",
        descCamondasNew: "ìˆ˜ì œ ì´ˆì½œë¦¿ê³¼ ë§›ìžˆëŠ” ì•„ì´ìŠ¤í¬ë¦¼ creations.",
        descSura: "í˜„ëŒ€ì ì¸ ê°ê°ì´ ê°€ë¯¸ëœ ì •í†µ í•œì‹.",
        descChinaZeit: "ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ì „í†µ ì¤‘êµ­ ìš”ë¦¬ë¥¼ ì¦ê²¨ë³´ì„¸ìš”.",
        descLasTapas: "ë‹¤ì–‘í•œ ìŠ¤íŽ˜ì¸ íƒ€íŒŒìŠ¤ì™€ ê³ ê¸‰ ì™€ì¸.",
        descAnamit: "ë² íŠ¸ë‚¨ ìš”ë¦¬ì˜ í’ë¶€í•œ ë§›ì„ ê²½í—˜í•´ë³´ì„¸ìš”.",
        descAugustiner: "ì „í†µì ì¸ ë¶„ìœ„ê¸°ì—ì„œ í‘¸ì§í•œ ë…ì¼ ìš”ë¦¬ì™€ ì‹œì›í•œ ë§¥ì£¼.",
        descArarat: "ë§›ìžˆëŠ” ë˜ë‡Œë¥´ì™€ ë‹¤ë¥¸ í„°í‚¤ íŠ¹ì„  ìš”ë¦¬.",
        descKinhDo: "ê°€ì¡±ì´ ìš´ì˜í•˜ëŠ” ì „í†µ ë² íŠ¸ë‚¨ ìš”ë¦¬ ë ˆìŠ¤í† ëž‘.",
        descBabaDoener: "ë§›ìžˆëŠ” ë˜ë‡Œë¥´ì™€ ë‹¤ë¥¸ í„°í‚¤ íŒ¨ìŠ¤íŠ¸í‘¸ë“œë¡œ ì¸ê¸°ìžˆëŠ” ê³³."
    },
    vi: {
        title: "ThÄƒm Dresden - HÆ°á»›ng dáº«n du lá»‹ch",
        h1: "HÆ°á»›ng dáº«n du lá»‹ch Dresden",
        subtitle: "PhiÃªn báº£n mÃ¹a Ä‘Ã´ng â€¢ Äá»‹a Ä‘iá»ƒm â€¢ áº¨m thá»±c â€¢ Chá»£ GiÃ¡ng sinh",
        mapBtn: "ðŸ“ Má»Ÿ danh sÃ¡ch Google Maps Ä‘áº§y Ä‘á»§",
        tocTitle: "Chuyá»ƒn Ä‘áº¿n pháº§n",
        clearProgress: "XÃ³a tiáº¿n trÃ¬nh",
        toastVisited: "ÄÃ£ Ä‘Ã¡nh dáº¥u Ä‘Ã£ thÄƒm",
        toastUnvisited: "ÄÃ£ bá» Ä‘Ã¡nh dáº¥u",
        toastCleared: "ÄÃ£ xÃ³a tiáº¿n trÃ¬nh",
        secMarkets: "Chá»£ GiÃ¡ng sinh",
        secSights: "Äá»‹a Ä‘iá»ƒm du lá»‹ch",
        secMuseum: "Báº£o tÃ ng",
        secRestaurants: "NhÃ  hÃ ng",
        secSnacks: "Äá»“ Äƒn nháº¹ tá»« Dresden",
        secCafe: "QuÃ¡n cÃ  phÃª vÃ  bÃ¡nh",
        viewOnMap: "Xem trÃªn báº£n Ä‘á»“ â†’",
        introMarkets: "TÃ´i khuyÃªn báº¡n nÃªn ghÃ© thÄƒm táº¥t cáº£ cÃ¡c chá»£ nÃ y.",
        introSights: "Táº¥t cáº£ cÃ¡c Ä‘á»‹a Ä‘iá»ƒm Ä‘á»u ráº¥t gáº§n nhau, nÃªn chÃºng ta cÃ³ thá»ƒ thÄƒm táº¥t cáº£.",
        introMuseum: "Náº¿u báº¡n thÃ­ch báº£o tÃ ng, Ä‘Ã¢y lÃ  nhá»¯ng báº£o tÃ ng ná»•i tiáº¿ng nháº¥t á»Ÿ Dresden:",
        introRestaurants: "TÃ¹y theo nhá»¯ng gÃ¬ báº¡n muá»‘n Äƒn vÃ  chÃºng ta sáº½ á»Ÿ Ä‘Ã¢u:",
        introSnacks: "Má»™t sá»‘ Ä‘á»“ Äƒn nháº¹ náº¿u báº¡n Ä‘Ã³i. TÃ´i Ä‘áº·c biá»‡t khuyáº¿n cÃ¡o Curry24.",
        introCafe: "Má»™t sá»‘ quÃ¡n cÃ  phÃª Ä‘á»ƒ áº¥m cÆ¡ thá»ƒ vÃ  nghá»‰ ngÆ¡i:",
        mustSee: "Pháº£i xem",
        empfehlung: "Äáº·c biá»‡t khuyáº¿n cÃ¡o",
        descStallhof: "KhÃ´ng gian trung cá»• bÃªn trong sÃ¢n lÃ¢u Ä‘Ã i.",
        descAugustus: "Chá»£ quá»‘c táº¿ á»Ÿ phÃ­a bÃªn kia sÃ´ng Elbe.",
        descFuerstenzug: "Bá»©c tranh cÃ¡c vá»‹ vua Dresden trÃªn gáº¡ch sá»©.",
        descBruehl: "Táº§m nhÃ¬n tuyá»‡t Ä‘áº¹p trÃªn sÃ´ng Elbe.",
        descReiter: "TÆ°á»£ng vÃ ng cá»§a Augustus Máº¡nh.",
        descHofkirche: "NhÃ  thá» CÃ´ng giÃ¡o chÃ­nh á»Ÿ Dresden.",
        descGemaelde: "Trong Zwinger. Ná»•i tiáº¿ng vá»›i 'Äá»©c Máº¹ Sistine' cá»§a Raphael.",
        descGewoelbe: "Báº£o tÃ ng kho bÃ¡u bÃªn trong Residenzschloss.",
        descAlbertinum: "PhÃ²ng trÆ°ng bÃ y cÃ¡c bá»©c tranh hiá»‡n Ä‘áº¡i vÃ  Bá»™ sÆ°u táº­p tÆ°á»£ng Ä‘iÃªu kháº¯c.",
        descKexerei: "BÃ¡nh quy Ä‘á»‹a phÆ°Æ¡ng ná»•i tiáº¿ng vÃ  'BÃ¡nh Nga'.",
        descCurry24: "Currywurst tá»‘t nháº¥t trong thÃ nh phá»‘.",
        descCamondas: "SÃ´ cÃ´ la cháº¥t lÆ°á»£ng cao vÃ  kem.",
        descAntik: "KhÃ´ng gian Ä‘á»™c Ä‘Ã¡o gáº§n Frauenkirche.",
        descKreutzkamm: "Tiá»‡m bÃ¡nh truyá»n thá»‘ng cÃ³ Baumkuchen ná»•i tiáº¿ng.",
        descCosel: "NhÃ  hÃ ng & Grand CafÃ© vá»›i phong cÃ¡ch Baroque.",
        tagKorean: "HÃ n Quá»‘c",
        tagChinese: "Trung Quá»‘c",
        tagSpanish: "TÃ¢y Ban Nha",
        tagVietnamese: "Viá»‡t Nam",
        tagGerman: "Äá»©c",
        tagDoener: "Kebab",
        tagCookies: "BÃ¡nh quy",
        tagIcecream: "Kem & SÃ´ cÃ´ la",
        footer: "HÃ£y cho tÃ´i biáº¿t náº¿u báº¡n cÃ³ báº¥t ká»³ cÃ¢u há»i hoáº·c gá»£i Ã½ nÃ o!",
        searchPlaceholder: "TÃ¬m kiáº¿m má»™t nÆ¡i...",
        descNeumarkt: "Chá»£ GiÃ¡ng sinh truyá»n thá»‘ng trÆ°á»›c nhÃ  thá» Frauenkirche.",
        descZwinger: "Phá»©c há»£p cung Ä‘iá»‡n Baroque vá»›i cÃ¡c báº£o tÃ ng.",
        descFrauenkirche: "NhÃ  thá» biá»ƒu tÆ°á»£ng vÃ  biá»ƒu tÆ°á»£ng tÃ¡i thiáº¿t cá»§a Dresden.",
        descSemperoper: "NhÃ  hÃ¡t opera ná»•i tiáº¿ng vá»›i lá»‹ch sá»­ phong phÃº.",
        descKexereiNew: "ThÆ°á»Ÿng thá»©c bÃ¡nh quy vÃ  bÃ¡nh ngá»t truyá»n thá»‘ng Saxon.",
        descCamondasNew: "SÃ´cÃ´la thá»§ cÃ´ng vÃ  kem ngon tuyá»‡t.",
        descSura: "áº¨m thá»±c HÃ n Quá»‘c Ä‘Ã­ch thá»±c vá»›i phong cÃ¡ch hiá»‡n Ä‘áº¡i.",
        descChinaZeit: "ThÆ°á»Ÿng thá»©c cÃ¡c mÃ³n Äƒn truyá»n thá»‘ng Trung Quá»‘c trong khÃ´ng gian áº¥m cÃºng.",
        descLasTapas: "Nhiá»u lá»±a chá»n tapas TÃ¢y Ban Nha vÃ  rÆ°á»£u vang háº£o háº¡ng.",
        descAnamit: "Tráº£i nghiá»‡m hÆ°Æ¡ng vá»‹ phong phÃº cá»§a áº©m thá»±c Viá»‡t Nam.",
        descAugustiner: "CÃ¡c mÃ³n Äƒn Äá»©c thá»‹nh soáº¡n vÃ  bia mÃ¡t láº¡nh trong khÃ´ng gian truyá»n thá»‘ng.",
        descArarat: "MÃ³n dÃ¶ner ngon tuyá»‡t vÃ  cÃ¡c mÃ³n Ä‘áº·c sáº£n Thá»• NhÄ© Ká»³ khÃ¡c.",
        descKinhDo: "NhÃ  hÃ ng gia Ä‘Ã¬nh vá»›i cÃ¡c mÃ³n Äƒn truyá»n thá»‘ng Viá»‡t Nam.",
        descBabaDoener: "Äá»‹a Ä‘iá»ƒm ná»•i tiáº¿ng vá»›i mÃ³n dÃ¶ner ngon vÃ  cÃ¡c mÃ³n Äƒn nhanh Thá»• NhÄ© Ká»³ khÃ¡c."
    },
    zh: {
        title: "è®¿é—®å¾·ç´¯æ–¯é¡¿ - æ—…æ¸¸æŒ‡å—",
        h1: "å¾·ç´¯æ–¯é¡¿æ—…æ¸¸æŒ‡å—",
        subtitle: "å†¬å­£ç‰ˆ â€¢ æ™¯ç‚¹ â€¢ ç¾Žé£Ÿ â€¢ åœ£è¯žå¸‚é›†",
        mapBtn: "ðŸ“ æ‰“å¼€å®Œæ•´è°·æ­Œåœ°å›¾åˆ—è¡¨",
        tocTitle: "è·³è½¬åˆ°ç« èŠ‚",
        clearProgress: "æ¸…é™¤è¿›åº¦",
        toastVisited: "å·²æ ‡è®°ä¸ºå·²è®¿é—®",
        toastUnvisited: "å·²å–æ¶ˆæ ‡è®°",
        toastCleared: "è¿›åº¦å·²æ¸…é™¤",
        secMarkets: "åœ£è¯žå¸‚é›†",
        secSights: "æ™¯ç‚¹",
        secMuseum: "åšç‰©é¦†",
        secRestaurants: "é¤åŽ…",
        secSnacks: "å¾·ç´¯æ–¯é¡¿å°é£Ÿ",
        secCafe: "å’–å•¡åŽ…å’Œç”œç‚¹",
        viewOnMap: "åœ¨åœ°å›¾ä¸ŠæŸ¥çœ‹ â†’",
        introMarkets: "æˆ‘å»ºè®®æ‚¨å‚è§‚æ‰€æœ‰çš„åœ£è¯žå¸‚é›†ã€‚",
        introSights: "æ‰€æœ‰æ™¯ç‚¹éƒ½ç¦»å¾—å¾ˆè¿‘ï¼Œæˆ‘ä»¬å¯ä»¥å…¨éƒ¨å‚è§‚ã€‚",
        introMuseum: "å¦‚æžœæ‚¨å–œæ¬¢åšç‰©é¦†ï¼Œè¿™äº›æ˜¯å¾·ç´¯æ–¯é¡¿æœ€è‘—åçš„ï¼š",
        introRestaurants: "æ ¹æ®æ‚¨æƒ³åƒä»€ä¹ˆä»¥åŠæˆ‘ä»¬åœ¨å“ªé‡Œï¼š",
        introSnacks: "ä¸€äº›å°é£Ÿé›¶é£Ÿï¼Œæˆ‘ç‰¹åˆ«æŽ¨èCurry24ã€‚",
        introCafe: "ä¸€äº›ç”¨äºŽæ¸©æš–èº«ä½“å’Œä¼‘æ¯çš„å’–å•¡åŽ…ï¼š",
        mustSee: "å¿…çœ‹",
        empfehlung: "æŽ¨è",
        descStallhof: "åŸŽå ¡ä¸­åº­å†…çš„ä¸­ä¸–çºªæ°›å›´ã€‚",
        descAugustus: "æ²³å¯¹å²¸çš„å›½é™…åœ£è¯žå¸‚é›†ã€‚",
        descFuerstenzug: "å¾·ç´¯æ–¯é¡¿åŽ†ä»£å›çŽ‹çš„é™¶ç“·å£ç”»ã€‚",
        descBruehl: "æ˜“åŒ—æ²³ä¸Šçš„ç¾Žæ™¯ã€‚",
        descReiter: "å¼ºäººå¥¥å¤æ–¯ç‰¹çš„é‡‘è‰²éª‘åƒã€‚",
        descHofkirche: "å¾·ç´¯æ–¯é¡¿çš„ä¸»è¦å¤©ä¸»æ•™æ•™å ‚ã€‚",
        descGemaelde: "åœ¨èŒ¨æ¸©æ ¼å®«å†…ã€‚ä»¥æ‹‰æ–å°”çš„ã€Šè¥¿æ–¯å»·åœ£æ¯ã€‹è€Œé—»åã€‚",
        descGewoelbe: "å®«æ®¿å†…çš„å®è—åšç‰©é¦†ã€‚",
        descAlbertinum: "æ–°å¤§å¸ˆç¾Žæœ¯é¦†å’Œé›•å¡‘æ”¶è—ã€‚",
        descKexerei: "è‘—åçš„æœ¬åœ°é¥¼å¹²å’Œä¿„ç½—æ–¯é¢åŒ…ã€‚",
        descCurry24: "åŸŽé‡Œæœ€å¥½çš„å’–å–±é¦™è‚ ã€‚",
        descCamondas: "é«˜è´¨é‡çš„å·§å…‹åŠ›å’Œå†°æ·‡æ·‹ã€‚",
        descAntik: "åœ£æ¯æ•™å ‚é™„è¿‘çš„ç‹¬ç‰¹æ°›å›´ã€‚",
        descKreutzkamm: "ä¼ ç»Ÿç³•ç‚¹åº—ï¼Œä»¥è‘—åçš„å¹´è½®è›‹ç³•è€Œé—»åã€‚",
        descCosel: "å…·æœ‰å·´æ´›å…‹é£Žæ ¼çš„é¤åŽ…å’Œå¤§å’–å•¡åŽ…ã€‚",
        tagKorean: "éŸ©å¼",
        tagChinese: "ä¸­å¼",
        tagSpanish: "è¥¿ç­ç‰™å¼",
        tagVietnamese: "è¶Šå—å¼",
        tagGerman: "å¾·å¼",
        tagDoener: "çƒ¤è‚‰å·",
        tagCookies: "é¥¼å¹²",
        tagIcecream: "å†°æ·‡æ·‹å’Œå·§å…‹åŠ›",
        footer: "å¦‚æžœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼",
        searchPlaceholder: "æœç´¢ä¸€ä¸ªåœ°æ–¹...",
        descNeumarkt: "åœ£æ¯æ•™å ‚å‰çš„ä¼ ç»Ÿåœ£è¯žå¸‚é›†ã€‚",
        descZwinger: "å¸¦åšç‰©é¦†çš„å·´æ´›å…‹å®«æ®¿ç¾¤ã€‚",
        descFrauenkirche: "å¾·ç´¯æ–¯é¡¿é‡å»ºçš„æ ‡å¿—æ€§æ•™å ‚å’Œè±¡å¾ã€‚",
        descSemperoper: "æ‹¥æœ‰æ‚ ä¹…åŽ†å²çš„è‘—åæ­Œå‰§é™¢ã€‚",
        descKexereiNew: "å“å°ä¼ ç»Ÿçš„æ’’å…‹é€Šé¥¼å¹²å’Œç³•ç‚¹ã€‚",
        descCamondasNew: "æ‰‹å·¥å·§å…‹åŠ›å’Œç¾Žå‘³å†°æ·‡æ·‹åˆ›ä½œã€‚",
        descSura: "åœ°é“éŸ©å¼æ–™ç†ï¼ŒèžåˆçŽ°ä»£é£Žå‘³ã€‚",
        descChinaZeit: "åœ¨èˆ’é€‚çš„æ°›å›´ä¸­äº«ç”¨ä¼ ç»Ÿä¸­å¼èœè‚´ã€‚",
        descLasTapas: "å„å¼è¥¿ç­ç‰™å°åƒå’Œç¾Žé…’ã€‚",
        descAnamit: "ä½“éªŒè¶Šå—ç¾Žé£Ÿçš„ä¸°å¯Œé£Žå‘³ã€‚",
        descAugustiner: "åœ¨ä¼ ç»ŸçŽ¯å¢ƒä¸­äº«ç”¨ä¸°ç››çš„å¾·å›½èœå’Œæ¸…çˆ½çš„å•¤é…’ã€‚",
        descArarat: "ç¾Žå‘³çš„åœŸè€³å…¶çƒ¤è‚‰ä¸²å’Œå…¶ä»–åœŸè€³å…¶ç‰¹è‰²èœã€‚",
        descKinhDo: "å®¶åº­ç»è¥çš„é¤åŽ…ï¼Œæä¾›ä¼ ç»Ÿè¶Šå—èœè‚´ã€‚",
        descBabaDoener: "ç¾Žå‘³çš„åœŸè€³å…¶çƒ¤è‚‰ä¸²å’Œå…¶ä»–åœŸè€³å…¶å¿«é¤çš„çƒ­é—¨åœ°ç‚¹ã€‚"
    },
    ja: {
        title: "ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã‚’è¨ªå• - æ—…è¡Œã‚¬ã‚¤ãƒ‰",
        h1: "ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³æ—…è¡Œã‚¬ã‚¤ãƒ‰",
        subtitle: "å†¬ç‰ˆ â€¢ è¦³å…‰åœ° â€¢ ã‚°ãƒ«ãƒ¡ â€¢ ã‚¯ãƒªã‚¹ãƒžã‚¹ãƒžãƒ¼ã‚±ãƒƒãƒˆ",
        mapBtn: "ðŸ“ å®Œå…¨ãªGoogleãƒžãƒƒãƒ—ãƒªã‚¹ãƒˆã‚’é–‹ã",
        tocTitle: "ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ã‚¸ãƒ£ãƒ³ãƒ—",
        clearProgress: "é€²æ—ã‚’ã‚¯ãƒªã‚¢",
        toastVisited: "è¨ªå•æ¸ˆã¿ã¨ã—ã¦ãƒžãƒ¼ã‚¯",
        toastUnvisited: "ãƒžãƒ¼ã‚¯ã‚’è§£é™¤",
        toastCleared: "é€²æ—ãŒã‚¯ãƒªã‚¢ã•ã‚Œã¾ã—ãŸ",
        secMarkets: "ã‚¯ãƒªã‚¹ãƒžã‚¹ãƒžãƒ¼ã‚±ãƒƒãƒˆ",
        secSights: "è¦³å…‰åœ°",
        secMuseum: "åšç‰©é¤¨",
        secRestaurants: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³",
        secSnacks: "ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã®ã‚¹ãƒŠãƒƒã‚¯",
        secCafe: "ã‚«ãƒ•ã‚§ã¨ã‚±ãƒ¼ã‚­",
        viewOnMap: "åœ°å›³ã§è¦‹ã‚‹ â†’",
        introMarkets: "ã™ã¹ã¦ã®ã‚¯ãƒªã‚¹ãƒžã‚¹ãƒžãƒ¼ã‚±ãƒƒãƒˆã‚’è¨ªå•ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚",
        introSights: "ã™ã¹ã¦ã®è¦³å…‰åœ°ã¯äº’ã„ã«éžå¸¸ã«è¿‘ã„ãŸã‚ã€ã™ã¹ã¦è¨ªå•ã§ãã¾ã™ã€‚",
        introMuseum: "åšç‰©é¤¨ãŒãŠå¥½ãã§ã—ãŸã‚‰ã€ã“ã‚Œã‚‰ã¯ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã§æœ€ã‚‚æœ‰åãªã‚‚ã®ã§ã™ï¼š",
        introRestaurants: "ä½•ã‚’é£Ÿã¹ãŸã„ã‹ã€ã©ã“ã«ã„ã‚‹ã‹ã«ã‚ˆã£ã¦ï¼š",
        introSnacks: "ãŠè…¹ãŒç©ºã„ãŸã¨ãã®ã‚¹ãƒŠãƒƒã‚¯ã€‚Curry24ã‚’ç‰¹ã«ãŠå‹§ã‚ã—ã¾ã™ã€‚",
        introCafe: "æ¸©ã¾ã£ãŸã‚Šä¼‘ã‚“ã ã‚Šã™ã‚‹ãŸã‚ã®ã‚«ãƒ•ã‚§ï¼š",
        mustSee: "å¿…è¦‹",
        empfehlung: "ãŠã™ã™ã‚",
        descStallhof: "åŸŽã®ä¸­åº­å†…ã®ä¸­ä¸–çš„ãªé›°å›²æ°—ã€‚",
        descAugustus: "å·ã®å‘ã“ã†å´ã®å›½éš›çš„ãªã‚¯ãƒªã‚¹ãƒžã‚¹ãƒžãƒ¼ã‚±ãƒƒãƒˆã€‚",
        descFuerstenzug: "ç£å™¨ã®ã‚¿ã‚¤ãƒ«ã«æã‹ã‚ŒãŸãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã®å›ä¸»ãŸã¡ã®çµµã€‚",
        descBruehl: "ã‚¨ãƒ«ãƒ™å·ã®ç´ æ™´ã‚‰ã—ã„çœºã‚ã€‚",
        descReiter: "å¼·å£®çŽ‹ã‚¢ã‚¦ã‚°ã‚¹ãƒˆã‚¥ã‚¹ã®é‡‘è‰²ã®é¨Žåƒã€‚",
        descHofkirche: "ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã®ä¸»è¦ãªã‚«ãƒˆãƒªãƒƒã‚¯æ•™ä¼šã€‚",
        descGemaelde: "ãƒ„ãƒ´ã‚£ãƒ³ã‚¬ãƒ¼å®®æ®¿å†…ã€‚ãƒ©ãƒ•ã‚¡ã‚¨ãƒ­ã®ã€Žã‚·ã‚¹ãƒ†ã‚£ãƒ¼ãƒŠã®è–æ¯ã€ã§æœ‰åã€‚",
        descGewoelbe: "ãƒ¬ã‚¸ãƒ‡ãƒ³ãƒ„ã‚·ãƒ¥ãƒ­ã‚¹å†…ã®å®ç‰©åšç‰©é¤¨ã€‚",
        descAlbertinum: "æ–°ãƒžã‚¹ã‚¿ãƒ¼ã‚ºã‚®ãƒ£ãƒ©ãƒªãƒ¼ã¨å½«åˆ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€‚",
        descKexerei: "æœ‰åãªåœ°å…ƒã®ãƒ“ã‚¹ã‚±ãƒƒãƒˆã¨ã€Žãƒ­ã‚·ã‚¢ãƒ³ãƒ–ãƒ¬ãƒƒãƒ‰ã€ã€‚",
        descCurry24: "ç”ºã§æœ€é«˜ã®ã‚«ãƒ¬ãƒ¼ãƒ´ãƒ«ã‚¹ãƒˆã€‚",
        descCamondas: "é«˜å“è³ªã®ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã¨ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã€‚",
        descAntik: "ãƒ•ãƒ©ã‚¦ã‚¨ãƒ³ã‚­ãƒ«ãƒ’ã‚§è¿‘ãã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªé›°å›²æ°—ã€‚",
        descKreutzkamm: "æœ‰åãªãƒã‚¦ãƒ ã‚¯ãƒ¼ãƒ˜ãƒ³ã‚’æ‰±ã†ä¼çµ±çš„ãªãŠè“å­å±‹ã€‚",
        descCosel: "ãƒãƒ­ãƒƒã‚¯æ§˜å¼ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³&ã‚°ãƒ©ãƒ³ãƒ‰ã‚«ãƒ•ã‚§ã€‚",
        tagKorean: "éŸ“å›½æ–™ç†",
        tagChinese: "ä¸­è¯æ–™ç†",
        tagSpanish: "ã‚¹ãƒšã‚¤ãƒ³æ–™ç†",
        tagVietnamese: "ãƒ™ãƒˆãƒŠãƒ æ–™ç†",
        tagGerman: "ãƒ‰ã‚¤ãƒ„æ–™ç†",
        tagDoener: "ã‚±ãƒãƒ–",
        tagCookies: "ã‚¯ãƒƒã‚­ãƒ¼",
        tagIcecream: "ã‚¢ã‚¤ã‚¹&ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ",
        footer: "ã”è³ªå•ã‚„ã”ææ¡ˆãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€ãŠçŸ¥ã‚‰ã›ãã ã•ã„ï¼",
        searchPlaceholder: "å ´æ‰€ã‚’æ¤œç´¢...",
        descNeumarkt: "ãƒ•ãƒ©ã‚¦ã‚¨ãƒ³æ•™ä¼šå‰ã®ä¼çµ±çš„ãªã‚¯ãƒªã‚¹ãƒžã‚¹ãƒžãƒ¼ã‚±ãƒƒãƒˆã€‚",
        descZwinger: "ç¾Žè¡“é¤¨ã‚’ä½µè¨­ã™ã‚‹ãƒãƒ­ãƒƒã‚¯æ§˜å¼ã®å®®æ®¿è¤‡åˆæ–½è¨­ã€‚",
        descFrauenkirche: "ãƒ‰ãƒ¬ã‚¹ãƒ‡ãƒ³ã®å¾©èˆˆã®è±¡å¾´ã§ã‚ã‚‹è±¡å¾´çš„ãªæ•™ä¼šã€‚",
        descSemperoper: "è±Šã‹ãªæ­´å²ã‚’æŒã¤æœ‰åãªã‚ªãƒšãƒ©ãƒã‚¦ã‚¹ã€‚",
        descKexereiNew: "ä¼çµ±çš„ãªã‚¶ã‚¯ã‚»ãƒ³ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚„ãƒšã‚¹ãƒˆãƒªãƒ¼ã‚’å‘³ã‚ã„ã¾ã—ã‚‡ã†ã€‚",
        descCamondasNew: "æ‰‹ä½œã‚Šãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã¨ç¾Žå‘³ã—ã„ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã®å‰µä½œã€‚",
        descSura: "ãƒ¢ãƒ€ãƒ³ãªã²ã­ã‚Šã‚’åŠ ãˆãŸæœ¬æ ¼çš„ãªéŸ“å›½æ–™ç†ã€‚",
        descChinaZeit: "å±…å¿ƒåœ°ã®è‰¯ã„é›°å›²æ°—ã§ä¼çµ±çš„ãªä¸­è¯æ–™ç†ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚",
        descLasTapas: "å¹…åºƒã„ç¨®é¡žã®ã‚¹ãƒšã‚¤ãƒ³ã®ã‚¿ãƒ‘ã‚¹ã¨ä¸Šè³ªãªãƒ¯ã‚¤ãƒ³ã€‚",
        descAnamit: "ãƒ™ãƒˆãƒŠãƒ æ–™ç†ã®è±Šã‹ãªé¢¨å‘³ã‚’ä½“é¨“ã—ã¦ãã ã•ã„ã€‚",
        descAugustiner: "ä¼çµ±çš„ãªé›°å›²æ°—ã®ä¸­ã§ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ã‚ã‚‹ãƒ‰ã‚¤ãƒ„æ–™ç†ã¨çˆ½ã‚„ã‹ãªãƒ“ãƒ¼ãƒ«ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚",
        descArarat: "ç¾Žå‘³ã—ã„ãƒ‰ãƒãƒ«ã‚±ãƒãƒ–ã¨ãã®ä»–ã®ãƒˆãƒ«ã‚³æ–™ç†ã€‚",
        descKinhDo: "ä¼çµ±çš„ãªãƒ™ãƒˆãƒŠãƒ æ–™ç†ã‚’æä¾›ã™ã‚‹å®¶æ—çµŒå–¶ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€‚",
        descBabaDoener: "ç¾Žå‘³ã—ã„ãƒ‰ãƒãƒ«ã‚±ãƒãƒ–ã‚„ãã®ä»–ã®ãƒˆãƒ«ã‚³ã®ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰ã§äººæ°—ã®ã‚¹ãƒãƒƒãƒˆã€‚"
    }
};

let currentLang = 'en';
let allPlaces = {};

// Safe localStorage wrapper with error handling
const storage = {
    get(key, fallback = null) {
        try {
            const value = localStorage.getItem(key);
            return value ? JSON.parse(value) : fallback;
        } catch (e) {
            console.warn('localStorage read error:', e);
            return fallback;
        }
    },
    set(key, value) {
        try {
            localStorage.setItem(key, JSON.stringify(value));
            return true;
        } catch (e) {
            console.warn('localStorage write error:', e);
            return false;
        }
    },
    getString(key, fallback = '') {
        try {
            return localStorage.getItem(key) || fallback;
        } catch (e) {
            return fallback;
        }
    },
    setString(key, value) {
        try {
            localStorage.setItem(key, value);
            return true;
        } catch (e) {
            return false;
        }
    }
};

// Toast notification
function showToast(message) {
    const toast = document.getElementById('toast');
    if (!toast) return;
    toast.textContent = message;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 2500);
}

function setLang(lang) {
    currentLang = lang;
    storage.setString('dresden_lang', lang);

    // Fade out
    document.body.style.opacity = 0;

    setTimeout(() => {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (i18n[lang] && i18n[lang][key]) {
                if (el.tagName === 'INPUT') {
                    el.placeholder = i18n[lang][key];
                } else {
                    el.innerText = i18n[lang][key];
                }
            }
        });

        // Update active button
        document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
        const activeBtn = document.getElementById('btn-' + lang);
        if (activeBtn) activeBtn.classList.add('active');

        // Update HTML lang attribute
        document.documentElement.lang = lang;

        // Update title tag
        if (i18n[lang]) {
            document.title = i18n[lang].title;
        }

        // Fade in
        document.body.style.opacity = 1;
    }, 200);
}

function toggleVisited(checkbox) {
    const card = checkbox.closest('.card');
    const id = card.getAttribute('data-id');
    const visited = checkbox.checked;

    if (visited) {
        card.classList.add('visited');
    } else {
        card.classList.remove('visited');
    }

    // Save to localStorage with error handling
    const savedProgress = storage.get('dresden_progress', {});
    savedProgress[id] = visited;
    storage.set('dresden_progress', savedProgress);

    // Show toast
    const lang = i18n[currentLang] || i18n.en;
    showToast(visited ? lang.toastVisited : lang.toastUnvisited);
}

function loadProgress() {
    const savedProgress = storage.get('dresden_progress', {});
    document.querySelectorAll('.card[data-id]').forEach(card => {
        const id = card.getAttribute('data-id');
        const checkbox = card.querySelector('.card-checkbox');
        if (savedProgress[id]) {
            checkbox.checked = true;
            card.classList.add('visited');
        }
    });
}

function clearProgress() {
    // Clear all checkboxes
    document.querySelectorAll('.card[data-id]').forEach(card => {
        const checkbox = card.querySelector('.card-checkbox');
        checkbox.checked = false;
        card.classList.remove('visited');
    });

    // Clear localStorage
    storage.set('dresden_progress', {});

    // Show toast
    const lang = i18n[currentLang] || i18n.en;
    showToast(lang.toastCleared);
}

// Back to top button
function initBackToTop() {
    const backToTopBtn = document.getElementById('backToTop');
    if (!backToTopBtn) return;

    window.addEventListener('scroll', () => {
        if (window.scrollY > 400) {
            backToTopBtn.classList.add('visible');
        } else {
            backToTopBtn.classList.remove('visible');
        }
    });

    backToTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
}

function renderCards(sectionId, places) {
    const grid = document.querySelector(`#${sectionId} .grid`);
    if (!grid) return;

    grid.innerHTML = ''; // Clear existing cards

    places.forEach(place => {
        const card = document.createElement('div');
        card.className = 'card';
        card.setAttribute('data-id', place.id);

        let tagHTML = '';
        if (place.tag) {
            const isHighlight = place.tag === 'mustSee' || place.tag === 'empfehlung';
            tagHTML = `<div><span class="tag ${isHighlight ? 'highlight' : ''}" data-i18n="${place.tag}">${i18n[currentLang][place.tag] || ''}</span></div>`;
        }
        
        const descriptionHTML = place.description ? `<div class="card-desc" data-i18n="${place.description}">${i18n[currentLang][place.description] || ''}</div>` : '';
        const mapLinkHTML = place.mapLink ? `<a href="${place.mapLink}" target="_blank" class="map-link" data-i18n="viewOnMap">${i18n[currentLang].viewOnMap}</a>` : '';
        

        card.innerHTML = `
            <input type="checkbox" class="card-checkbox" onchange="toggleVisited(this)">
            ${tagHTML}
            <div class="card-title">${place.title}</div>
            ${descriptionHTML}
            ${mapLinkHTML}
        `;
        
        grid.appendChild(card);
    });
}

function filterCards() {
    const searchTerm = document.getElementById('search-bar').value.toLowerCase();

    for (const section in allPlaces) {
        const filteredPlaces = allPlaces[section].filter(place =>
            place.title.toLowerCase().includes(searchTerm)
        );
        renderCards(section, filteredPlaces);
    }
    loadProgress();
}


async function loadAndRenderPlaces() {
    try {
        const response = await fetch('/assets/data/dresden_places.json');
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        allPlaces = await response.json();

        for (const section in allPlaces) {
            renderCards(section, allPlaces[section]);
        }
        
        loadProgress(); // Reload progress after rendering cards

    } catch (error) {
        console.error('Error loading places:', error);
    }
}


// Initialize from storage or default to English
window.addEventListener('DOMContentLoaded', () => {
    const savedLang = storage.getString('dresden_lang', 'en');
    setLang(savedLang);
    loadAndRenderPlaces();
    initBackToTop();
});
